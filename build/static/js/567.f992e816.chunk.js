"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[567,884],{4884:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var i=s(2791),a=s(6487),n=s(8289),d=(s(9986),s(2483)),o=s(449),l=s(3884),r=(s(5736),s(2677)),c=s(3360),h=s(4949),j=s(4047),x=s(8695),m=s(2412),u=s(9743),b=s(9410),p=s(4292),y=s(4702),g=s(2481),C=s(5648),D=s(1139),f=(s(8890),s(184));const w=(0,y.ZF)(n.k.firebaseConfig),T=((0,g.ad)(w),document.getElementById("esTimmNeededTable"),document.getElementById("jobDoneTable"),e=>{let{data:t}=e;return(0,f.jsx)("div",{style:{marginLeft:"10%",display:"flex",flexDirection:"column",justifyContent:"center"},children:t})});class Z extends i.Component{constructor(e){super(e),this.getSuggestions=(e,t)=>{if(!e)return[];const s=e.trim().toLowerCase(),{techList:i}=(s.length,this.state);return s&&i&&i.length?i.filter((e=>{var i;const a=null===(i=e.data[t])||void 0===i?void 0:i.toLowerCase();return a&&a.includes(s)})).map((e=>e.data[t])):[]},this.fetchTechData=async()=>{try{const e=await(0,l.getTechData)();this.setState({techList:e})}catch(e){console.error("Error fetching tech data:",e)}},this.renderSuggestion=e=>(0,f.jsx)("div",{children:e}),this.componentDidMount=async()=>{const e=await(0,C.BJ)();this.setState({techList:e})},this.targetHandler=e=>{this.setState((t=>({selectedTarget:t.selectedTarget===e?null:e})))},this.handleInputChange=e=>{const{name:t,value:s}=e.target;this.setState((e=>({techData:{...e.techData,[t]:s}})))},this.estimationProcess=()=>{},this.on1stsubmitclick=()=>{},this.on2cdsubmitclick=()=>{},this.onestimclicktoconfirm=()=>{},this.onFindWOClick=()=>{},this.estimationListModal=()=>{},this.JobDoneListModal=()=>{},this.checkbox1Checked=()=>{},this.onFinishOnSite=e=>{(0,C.HL)(this.state.selectedJob.id,"jobDoneScheduled").then((()=>{})).catch((e=>{console.error("Error:",e)}))},this.onSubmitEstimation=()=>{const e={estimTechName:this.state.estimTechName,estimTechCon:this.state.estimTechCon,estimTechproffesion:this.state.estimTechproffesion,estimCost:this.state.estimCost,estimPaidby:this.state.estimPaidby,estimPaymentAdress:this.state.estimPaymentAdress,estimTechDescription:this.state.estimTechDescription,estimscheduleddate:this.state.estimscheduleddate,estimscheduledtimee:this.state.estimscheduledtimee,estimTechId:this.state.estimTechId,jobDoneTechName:this.state.jobDoneTechName,jobDoneTechCon:this.state.jobDoneTechCon,jobdoneTechproffesion:this.state.jobdoneTechproffesion,jobDoneCost:this.state.jobDoneCost,jobDonePaidby:this.state.jobDonePaidby,jobDonePaymentAdress:this.state.jobDonePaymentAdress,jobDoneHours:this.state.jobDoneHours,jobDoneTechDescription:this.state.jobDoneTechDescription,suppliyer:this.state.suppliyer,otherSuppliyer:this.state.otherSuppliyer,material:this.state.material,jobdonescheduledate:this.state.jobdonescheduledate,jobdonescheduledtime:this.state.jobdonescheduledtime,jobDoneTechId:this.state.jobDoneTechId,jobType:this.state.jobType};(0,C._k)(this.state.selectedJob.id,e).then((()=>(0,C.HL)(this.state.selectedJob.id,"estimationScheduled"))).then((()=>{})).catch((e=>{}))},this.onSubmitJobDone=e=>{const t={estimTechName:e.data.dispatcherData.estimTechName,estimTechCon:e.data.dispatcherData.estimTechCon,estimTechproffesion:e.data.dispatcherData.estimTechproffesion,estimCost:e.data.dispatcherData.estimCost,estimPaidby:e.data.dispatcherData.estimPaidby,estimPaymentAdress:e.data.dispatcherData.estimPaymentAdress,estimTechDescription:e.data.dispatcherData.estimTechDescription,estimscheduleddate:e.data.dispatcherData.estimscheduleddate,estimscheduledtimee:e.data.dispatcherData.estimscheduledtimee,estimTechId:e.data.DispatcherData.estimTechId,jobDoneTechName:this.state.jobDoneTechName,jobDoneTechCon:this.state.jobDoneTechCon,jobdoneTechproffesion:this.state.jobdoneTechproffesion,jobDoneCost:this.state.jobDoneCost,jobDonePaidby:this.state.jobDonePaidby,jobDonePaymentAdress:this.state.jobDonePaymentAdress,jobDoneHours:this.state.jobDoneHours,jobDoneTechDescription:this.state.jobDoneTechDescription,suppliyer:this.state.suppliyer,otherSuppliyer:this.state.otherSuppliyer,material:this.state.material,jobdonescheduledate:this.state.jobdonescheduledate,jobdonescheduledtime:this.state.jobdonescheduledtime,jobDoneTechId:e.data.DispatcherData.jobDoneTechId,jobType:this.state.jobType};(0,C._k)(this.state.selectedJob.id,t).then((()=>(0,C.HL)(this.state.selectedJob.id,"jobDoneScheduled"))).then((()=>{})).catch((e=>{}))},this.updateDimensions=()=>{this.setState({innerWidth:window.innerWidth});window.innerWidth},this.countStatus=e=>this.state.jobList.filter((t=>t.data.status===e)).length,this.countEstimNeeded=()=>{const e=this.state.jobList.filter((e=>"estimationNeeded"===e.data.status));this.setState({estimNeededCount:e})},this.countJobDoneNeeded=()=>{const e=this.state.jobList.filter((e=>"jobDoneNeeded"===e.data.status)).length;this.setState({jobDoneNeededCount:e})},this.componentDidMount=async()=>{window.addEventListener("resize",this.updateDimensions);const e=this.context;if(console.log("context currentUser disp Page",e.currentUser),null!==e.currentUser){await(0,C.uY)(e.currentUser.uid),this.state.status,await(0,C.uY)(e.currentUser.uid),this.state.jobStatus,await(0,C.uY)(e.currentUser.uid).then((e=>{const t=this.getEstimatedPending(e),s=this.getJobDonePending(e);this.setState({jobList:e,estimationPending:t.tostring,jobDonePending:s.tostring})}))}},this.getEstimatedPending=async e=>{let t=0;return e.map((e=>{"estimationNeeded"===e.data.status&&(t+=1)})),this.setState({estimNeededCount:t}),t},this.getJobDonePending=async e=>{let t=0;return e.map((e=>{"jobDoneNeeded"===e.data.status&&(t+=1)})),this.setState({jobDoneNeededCount:t}),t},this.handleClose=()=>{this.setState({estimationProcess:!1}),this.setState({closeJobItemModal:!1}),this.setState({estimationListModal:!1}),this.setState({JobDoneListModal:!1}),this.setState({on1stsubmitclick:!1}),this.setState({onestimclicktoconfirm:!1}),this.setState({on2cdsubmitclick:!1}),this.setState({onSubmitClick:!1}),this.setState({modalDisplayWOdetails:!1}),this.setState({estimationFinalize:!1})},this.onPressed=()=>{const{password:e}=this.state;this.setState({data:{estimTechName:"",estimTechCon:"",estimTechproffesion:"",estimCost:"",estimPaidby:"",estimPaymentAdress:"",estimTechDescription:"",estimscheduleddate:"",estimscheduledtimee:"",jobDoneTechName:"",jobDoneTechCon:"",jobdoneTechproffesion:"",jobDoneCost:"",jobDonePaidby:"",jobDonePaymentAdress:"",jobDoneHours:"",jobDoneTechDescription:"",suppliyer:"",otherSuppliyer:"",material:"",jobdonescheduledate:"",jobdonescheduledtime:"",dispId:"",jobType:""}})},this.state={showTable:!0,writeAccess:!0,estimTechName:"",estimTechCon:"",estimTechproffesion:"",estimCost:"",estimPaidby:"",estimPaymentAdress:"",estimTechDescription:"",estimscheduleddate:"",estimscheduledtimee:"",jobDoneTechName:"",jobDoneTechCon:"",jobdoneTechproffesion:"",jobDoneCost:"",jobDonePaidby:"",jobDonePaymentAdress:"",jobDoneHours:"",jobDoneTechDescription:"",suppliyer:"",otherSuppliyer:"",material:"",jobdonescheduledate:"",jobdonescheduledtime:"",estimTechId:"",jobDoneTechId:"",dispId:"",jobType:"",data:{estimTechName:"",estimTechCon:"",estimTechproffesion:"",estimCost:"",estimPaidby:"",estimPaymentAdress:"",estimTechDescription:"",estimscheduleddate:"",estimscheduledtimee:"",jobDoneTechId:"",estimTechId:"",jobDoneTechName:"",jobDoneTechCon:"",jobdoneTechproffesion:"",jobDoneCost:"",jobDonePaidby:"",jobDonePaymentAdress:"",jobDoneHours:"",jobDoneTechDescription:"",suppliyer:"",otherSuppliyer:"",material:"",jobdonescheduledate:"",jobdonescheduledtime:"",dispId:"",jobType:""},errorMessage:"",woNbSearch:"",subClicked:!1,onFindWOClick:!1,jobDoneNeededCount:0,estimNeededCount:0,estimationListModal:!1,JobDoneListModal:!1,on1stsubmitclick:!1,on2cdsubmitclick:!1,onestimclicktoconfirm:!1,estimNeededList:[],jobDoneList:[],jobList:[],estimJobList:[],jobDoneJobList:[],selectedJob:[],filteredTechNames:[],techList:[],closeJobItemModal:!1,modalDisplayWOdetails:!1,estimationProcess:!1,estimationFinalize:!1,techData:{techCon:"",techName:""}}}async componentDidMount(){try{const e=await(0,l.fetchTechConData)();this.setState({techList:e})}catch(e){console.error("Error fetching techCon data:",e)}}componentDidMount(){this.fetchTechData()}componentDidMount(){const e=this.countStatus("estimationNeeded"),t=this.countStatus("jobDoneNeeded");this.setState({estimNeededCount:e,jobDoneNeededCount:t})}componentDidMount(){this.countEstimNeeded()}componentDidMount(){this.countJobDoneNeeded()}render(){var e,t,s,i,a,n,l,y,g,w,Z,v,N,S,k,P,J,A,L,I,E,z,M,H,U,O,F,B,G,W,Y,V,_,R,Q,q,$,K,X,ee,te,se,ie,ae,ne,de,oe,le,re,ce,he,je,xe,me,ue,be;const{selectedJob:pe}=this.state,{techList:ye,getTechs:ge,estimNeededCount:Ce,jobDoneNeededCount:De,selectedTarget:fe}=this.state,we=this.state.jobList.filter((e=>"jobDoneNeeded"===e.data.status)).sort(((e,t)=>{const s=new Date(e.data.jobData.neededdate),i=new Date(t.data.jobData.neededdate);console.log("YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",i);const a=new Date;return Math.abs(s-a)-Math.abs(i-a)})),Te=this.context,Ze=(0,f.jsxs)(r.Z,{children:[(0,f.jsx)("button",{children:"UpLoad Pictures"}),(0,f.jsx)("button",{children:"UpLoad SignOff Sheet"}),(0,f.jsx)("button",{children:"Upload Tech's Quotation"}),(0,f.jsx)("button",{children:"Upload Tech's Recommendations"}),(0,f.jsx)(c.Z,{onClick:()=>this.onFinishOnSite({selectedJob:{data:"jobDoneScheduled"}}),children:"Finish On Site"}),(0,f.jsx)(h.Z.Control,{"aria-controls":"target5","aria-expanded":"target5"===fe,style:{display:"flex",justifyContent:"center",marginBottom:"1%"},placeholder:" Tech's Recommendations",as:"textarea",rows:"3"}),(0,f.jsx)(c.Z,{onClick:()=>this.setState({selectedJob:{data:"QuotationNeededy"}}),children:"Finalize Estim."})]}),ve=(0,f.jsxs)("div",{style:{display:"flex"},children:[(0,f.jsxs)(r.Z,{children:[" ",(0,f.jsx)("button",{children:"UpLoad Pictures"}),(0,f.jsx)(f.Fragment,{children:"  "}),(0,f.jsx)("button",{children:"UpLoad SignOff Sheet"}),(0,f.jsx)(f.Fragment,{children:"  "}),(0,f.jsx)("button",{children:"Upload Tech's Quotation"}),(0,f.jsx)(f.Fragment,{children:"  "}),(0,f.jsx)("button",{children:"Upload Tech's Recommendations"})," ",(0,f.jsx)(f.Fragment,{children:" "}),(0,f.jsx)(c.Z,{onClick:()=>this.setState({selectedJob:{data:"invoiceNeeded"}}),children:"Finalize Job"}),(0,f.jsx)(h.Z.Control,{"aria-controls":"target5","aria-expanded":"target5"===fe,style:{display:"flex",justifyContent:"center",marginBottom:"1%"},placeholder:" Tech's Recommendations",as:"textarea",rows:"3"})]})," "]});return(0,f.jsxs)("div",{children:[" ",(0,f.jsxs)("div",{style:{justifyContent:"center",display:"flex",flexDirection:"row"},children:[(0,f.jsxs)(j.Z,{style:{display:"flex",flexDirection:"row",marginLeft:"-4%"},show:this.state.JobDoneListModal,onHide:this.handleClose,centered:"true",children:[(0,f.jsx)(j.Z.Header,{style:{backgroundColor:"white",width:"200%",display:"flex",flexDirection:"row"},closeButton:!0,children:(0,f.jsx)(j.Z.Title,{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:"Schedule New Job Done"})}),(0,f.jsx)(j.Z.Body,{style:{backgroundColor:"white",width:"200%"},children:(0,f.jsx)(x.Z,{className:"NewWorkOrders",children:(0,f.jsx)(x.Z.Body,{className:"px-0 py-2",children:(0,f.jsxs)(m.Z,{responsive:!0,hover:!0,style:{backgroundColor:"white"},className:"table mt-3",id:"tablepadding",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{children:"WO numb"}),(0,f.jsx)("th",{children:"Job location"}),(0,f.jsx)("th",{children:"Contact"}),(0,f.jsx)("th",{children:"Trade"}),(0,f.jsx)("th",{children:"NTE"}),(0,f.jsx)("th",{children:"Client Name"}),(0,f.jsx)("th",{children:"Submitted date"}),(0,f.jsx)("th",{children:"Needed Date"}),(0,f.jsx)("th",{children:"Urgency"}),(0,f.jsx)("th",{children:"Job Description"})]})}),(0,f.jsx)("tbody",{children:we.map(((e,t)=>(0,f.jsxs)("tr",{onClick:()=>{this.setState({JobDoneListModal:!1,closeJobItemModal:!0,selectedJob:e})},children:[(0,f.jsx)("td",{children:e.data.woNum}),(0,f.jsx)("td",{children:e.data.jobData.joblocation}),(0,f.jsx)("td",{children:e.data.jobData.contact}),(0,f.jsx)("td",{children:e.data.jobData.trade}),(0,f.jsx)("td",{children:e.data.jobData.nte}),(0,f.jsx)("td",{children:e.data.jobData.clientName}),(0,f.jsx)("td",{children:e.data.jobData.submdate}),(0,f.jsx)("td",{children:e.data.jobData.neededdate}),(0,f.jsx)("td",{children:e.data.jobData.urgency}),(0,f.jsx)("td",{children:e.data.jobData.jobdescr})]},t)))})]})})})}),(0,f.jsx)(j.Z.Footer,{style:{height:"80%",backgroundColor:"whitesmoke",width:"200%",display:"flex",flexDirection:"row"}})]}),(0,f.jsxs)(j.Z,{style:{display:"flex",flexDirection:"row",marginLeft:"-4%"},show:this.state.estimationListModal,onHide:this.handleClose,centered:!0,children:[(0,f.jsx)(j.Z.Header,{style:{backgroundColor:"white",width:"200%",display:"flex",flexDirection:"row"},closeButton:!0,children:(0,f.jsx)(j.Z.Title,{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:"Schedule New estimation"})}),(0,f.jsx)(j.Z.Body,{style:{backgroundColor:"white",width:"200%"},children:(0,f.jsx)(x.Z,{className:"NewWorkOrders",children:(0,f.jsx)(x.Z.Body,{className:"px-0 py-2",children:(0,f.jsxs)(m.Z,{responsive:!0,hover:!0,style:{backgroundColor:"white"},className:"table mt-3",id:"tablepadding",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{children:"WO numb"}),(0,f.jsx)("th",{children:"Job location"}),(0,f.jsx)("th",{children:"contact"}),(0,f.jsx)("th",{children:"Trade"}),(0,f.jsx)("th",{children:"NTE"}),(0,f.jsx)("th",{children:"Client Name"}),(0,f.jsx)("th",{children:"Submitted date"}),(0,f.jsx)("th",{children:"Needed Date"}),(0,f.jsx)("th",{children:"Urgency"}),(0,f.jsx)("th",{children:"Job Description"})]})}),(0,f.jsx)("tbody",{children:this.state.jobList.map(((e,t)=>"estimationNeeded"===e.data.status?(0,f.jsxs)("tr",{onClick:()=>{this.setState({estimationProcess:!0,estimationListModal:!1,selectedJob:e})},style:{backgroundColor:"today"===e.data.jobData.neededdate?"red":"lightorange"},children:[(0,f.jsx)("td",{children:e.data.woNum}),(0,f.jsx)("td",{children:e.data.jobData.joblocation}),(0,f.jsx)("td",{children:e.data.jobData.contact}),(0,f.jsx)("td",{children:e.data.jobData.trade}),(0,f.jsx)("td",{children:e.data.jobData.nte}),(0,f.jsx)("td",{children:e.data.jobData.clientName}),(0,f.jsx)("td",{children:e.data.jobData.submdate}),(0,f.jsx)("td",{children:e.data.jobData.neededdate}),(0,f.jsx)("td",{children:e.data.jobData.urgency}),(0,f.jsx)("td",{children:e.data.jobData.jobdescr}),(0,f.jsx)("td",{style:{paddingTop:"3px",display:"flex"}})]},t):null))})]})})})}),(0,f.jsx)(j.Z.Footer,{style:{height:"80%",backgroundColor:"whitesmoke",width:"200%",display:"flex",flexDirection:"row"}})]}),(0,f.jsxs)(j.Z,{id:"dynamicFormModule",centered:!0,style:{marginLeft:"-4%",width:"100%",display:"flex",flexDirection:"row"},show:this.state.estimationProcess,onHide:this.handleClose,children:[(0,f.jsx)(j.Z.Header,{style:{backgroundColor:"white",width:"130%",display:"flex",flexDirection:"row"},closeButton:!0,children:(0,f.jsx)(j.Z.Title,{style:{width:"130%",display:"flex",flexDirection:"row",justifyContent:"center"},children:"Estimation Proccessing"})}),(0,f.jsx)(j.Z.Body,{md:3,style:{width:"130%",backgroundColor:"white",display:"flex",flexDirection:"row"},children:(0,f.jsx)(h.Z,{children:(0,f.jsxs)(u.Z,{children:[(0,f.jsxs)(r.Z,{style:{marginleft:"-55%"},children:[(0,f.jsxs)(b.Z,{size:"sm",className:"mb-3",style:{width:"93%"},children:[(0,f.jsx)(b.Z.Prepend,{style:{width:"44%"},children:(0,f.jsx)(b.Z.Text,{children:"Tech Contact"})}),(0,f.jsx)(o.Z,{value:this.state.techData.techCon,onChange:(e,t)=>{this.setState((e=>({techData:{...e.techData,techCon:t}})))},options:this.state.techList,renderInput:e=>(0,f.jsx)(d.Z,{...e,type:"text",style:{width:"135%"},name:"techCon",placeholder:"Search Via Contact...",onChange:e=>this.handleInputChange(e)})})]}),(0,f.jsxs)(b.Z,{size:"sm",className:"mb-3",style:{width:"93%"},children:[(0,f.jsx)(b.Z.Prepend,{style:{width:"44%"},children:(0,f.jsx)(b.Z.Text,{children:"Tech Name"})}),(0,f.jsx)(o.Z,{value:this.state.techData.techName,onChange:(e,t)=>{this.setState((e=>({techData:{...e.techData,techName:t}})))},options:this.state.techList.map((e=>e.data.techName)),renderInput:e=>(0,f.jsx)(d.Z,{...e,type:"text",style:{width:"135%"},name:"techName",placeholder:"Search Via Name...",onChange:e=>this.handleInputChange(e)})})]}),(0,f.jsxs)(b.Z,{size:"sm",className:"mb-3",style:{width:"93%",marginTop:20},children:[(0,f.jsx)(b.Z.Prepend,{style:{width:"44%"},children:(0,f.jsx)(b.Z.Text,{id:"inputGroup-sizing-sm",children:"Profession"})}),(0,f.jsx)(p.Z,{"aria-label":"Small","aria-describedby":"inputGroup-sizing-sm",style:{background:"whitesmoke",display:"flex",borderColor:"grey"},onChange:e=>{this.setState({estimTechproffesion:e.target.value})}})]}),(0,f.jsxs)(b.Z,{size:"sm",className:"mb-3",style:{width:"93%",marginTop:20},children:[(0,f.jsx)(b.Z.Prepend,{style:{width:"44%"},children:(0,f.jsx)(b.Z.Text,{id:"inputGroup-sizing-sm",children:"Trade"})}),(0,f.jsx)(p.Z,{"aria-label":"Small","aria-describedby":"inputGroup-sizing-sm",style:{background:"whitesmoke",display:"flex",borderColor:"grey"},onChange:e=>{this.setState({jobType:e.target.value})}})]}),(0,f.jsxs)(b.Z,{size:"sm",className:"mb-3",style:{width:"93%",marginTop:20},children:[(0,f.jsx)(b.Z.Prepend,{style:{width:"44%"},children:(0,f.jsx)(b.Z.Text,{id:"inputGroup-sizing-sm",children:"NTE"})}),(0,f.jsx)(p.Z,{"aria-label":"Small","aria-describedby":"inputGroup-sizing-sm",style:{background:"whitesmoke",display:"flex",borderColor:"grey"},onChange:e=>{this.setState({estimCost:e.target.value})}})]}),(0,f.jsxs)(b.Z,{size:"sm",className:"mb-3",style:{width:"93%",marginTop:20},children:[(0,f.jsx)(b.Z.Prepend,{style:{width:"44%"},children:(0,f.jsx)(b.Z.Text,{id:"inputGroup-sizing-sm",children:"Scheduled Date"})}),(0,f.jsx)(p.Z,{type:"date","aria-label":"Small","aria-describedby":"inputGroup-sizing-sm",style:{background:"whitesmoke",display:"flex",borderColor:"grey"},onChange:e=>{this.setState({estimscheduleddate:e.target.value})}})]}),(0,f.jsxs)(b.Z,{size:"sm",className:"mb-3",style:{width:"93%",marginTop:20},children:[(0,f.jsx)(b.Z.Prepend,{style:{width:"44%"},children:(0,f.jsx)(b.Z.Text,{id:"inputGroup-sizing-sm",children:"Scheduled Time"})}),(0,f.jsx)(p.Z,{type:"time","aria-label":"Small","aria-describedby":"inputGroup-sizing-sm",style:{display:"flex",borderColor:"grey"},onChange:e=>{this.setState({estimscheduledtimee:e.target.value})}})]})]}),(0,f.jsxs)(r.Z,{md:5,children:[(0,f.jsxs)(h.Z.Group,{controlId:"exampleForm.ControlTextarea1",children:[(0,f.jsx)(h.Z.Label,{children:"Note About Job"}),(0,f.jsx)(h.Z.Control,{style:{width:"110%",display:"flex",backgroundColor:"whitesmoke",flexDirection:"row"},onChange:e=>{this.setState({estimTechDescription:e.target.value})},as:"textarea",rows:"3"})]})," ",(0,f.jsxs)("div",{children:[(0,f.jsxs)(b.Z,{size:"sm",className:"mb-3",style:{width:"110%",marginTop:20},children:[(0,f.jsx)(b.Z.Prepend,{style:{width:"44%"},children:(0,f.jsx)(b.Z.Text,{id:"inputGroup-sizing-sm",children:"Submited Date"})}),(0,f.jsx)(D.Z,{"aria-label":"Small",style:{background:"whitesmoke",display:"flex",borderColor:"grey"}}),(0,f.jsx)("div",{style:{marginLeft:"10%",display:"flex",flexDirection:"column",justifyContent:"center"},children:this.state.selectedJob&&(0,f.jsx)("div",{children:null===(e=this.state.selectedJob)||void 0===e||null===(t=e.data)||void 0===t||null===(s=t.jobData)||void 0===s?void 0:s.submdate})})]}),(0,f.jsxs)(b.Z,{size:"sm",className:"mb-3",style:{width:"110%",marginTop:20},children:[(0,f.jsx)(b.Z.Prepend,{style:{width:"43%"},children:(0,f.jsx)(b.Z.Text,{id:"inputGroup-sizing-sm",children:"Needed Date"})}),(0,f.jsx)(D.Z,{"aria-label":"Small",style:{background:"whitesmoke",display:"flex",borderColor:"grey"}}),(0,f.jsx)("div",{style:{marginLeft:"10%",display:"flex",flexDirection:"column",justifyContent:"center"},children:this.state.selectedJob&&(0,f.jsx)("div",{children:null===(i=this.state.selectedJob)||void 0===i||null===(a=i.data)||void 0===a||null===(n=a.jobData)||void 0===n?void 0:n.neededdate})})]}),(0,f.jsxs)(b.Z,{size:"sm",className:"mb-3",style:{width:"110%",marginTop:20},children:[(0,f.jsx)(b.Z.Prepend,{style:{width:"43%"},children:(0,f.jsx)(b.Z.Text,{id:"inputGroup-sizing-sm",children:"Your Name"})}),(0,f.jsx)(D.Z,{"aria-label":"Small",style:{background:"whitesmoke",display:"flex",borderColor:"grey"}}),(0,f.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:null!=Te.currentUser?"".concat(Te.currentUser.name," ").concat(Te.currentUser.lastName):this.state.userName})]})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{})," ",(0,f.jsxs)("div",{style:{width:"",display:"flex",flexDirection:"row",justifyContent:"center",marginTop:"-9%"},children:[(0,f.jsx)(c.Z,{variant:"primary",style:{width:"50%",marginTop:"8%"},onClick:()=>{this.setState({on1stsubmitclick:!0})},children:"Submit"}),(0,f.jsx)(c.Z,{style:{width:"50%",marginTop:"8%"},variant:"secondary",onClick:()=>{this.handleClose()},children:"Close"})]})]})]})]})})}),(0,f.jsx)(j.Z.Footer,{style:{width:"130%",backgroundColor:"white",display:"flex",flexDirection:"row"},children:(0,f.jsxs)("div",{children:["Hello there, we need someone for"," ",(0,f.jsx)("span",{style:{color:"red"},children:null===(l=this.state.selectedJob)||void 0===l||null===(y=l.data)||void 0===y||null===(g=y.jobData)||void 0===g?void 0:g.trade})," ","to:"," ",(0,f.jsx)("span",{style:{color:"red"},children:null===(w=this.state.selectedJob)||void 0===w||null===(Z=w.data)||void 0===Z||null===(v=Z.jobData)||void 0===v?void 0:v.jobdescr})," ","At:"," ",(0,f.jsx)("span",{style:{color:"red"},children:null===(N=this.state.selectedJob)||void 0===N||null===(S=N.data)||void 0===S||null===(k=S.jobData)||void 0===k?void 0:k.joblocation})," ","Asap please, Maximum by:"," ",(0,f.jsx)("span",{style:{color:"red"},children:null===(P=this.state.selectedJob)||void 0===P||null===(J=P.data)||void 0===J||null===(A=J.jobData)||void 0===A?void 0:A.neededdate}),". You guys do free estimation, right?"," ",(0,f.jsx)("span",{style:{color:"green"},children:"YES?"})," AWESOME!"," ",(0,f.jsx)("span",{style:{color:"green"},children:"No?"})," how much you guys charge? the best i can do is:"," ",(0,f.jsxs)("span",{style:{color:"red"},children:[null===(L=this.state.selectedJob)||void 0===L||null===(I=L.data)||void 0===I||null===(E=I.jobData)||void 0===E?void 0:E.nte,"-25$"]})," ","no? ok ok give me a minute i will ask my manager, i might be able to get you:"," ",(0,f.jsx)("span",{style:{color:"red"},children:null===(z=this.state.selectedJob)||void 0===z||null===(M=z.data)||void 0===M||null===(H=M.jobData)||void 0===H?void 0:H.nte})]})})]}),(0,f.jsxs)(j.Z,{centered:!0,style:{marginLeft:"-4%",width:"100%",display:"flex",flexDirection:"row"},show:this.state.closeJobItemModal,onHide:this.handleClose,children:[(0,f.jsx)(j.Z.Header,{style:{backgroundColor:"white",width:"130%",display:"flex",flexDirection:"row"},closeButton:!0,children:(0,f.jsx)(j.Z.Title,{style:{width:"130%",display:"flex",flexDirection:"row",justifyContent:"center"},children:"Job Proccessing"})}),(0,f.jsx)(j.Z.Body,{md:3,style:{width:"130%",backgroundColor:"white",display:"flex",flexDirection:"row"},children:(0,f.jsx)(h.Z,{children:(0,f.jsxs)(u.Z,{children:[(0,f.jsxs)(r.Z,{style:{marginleft:"-55%"},children:[(0,f.jsxs)(b.Z,{size:"sm",className:"mb-3",style:{width:"93%"},children:[(0,f.jsx)(b.Z.Prepend,{style:{width:"44%"},children:(0,f.jsx)(b.Z.Text,{children:"Tech Contact"})}),(0,f.jsx)(p.Z,{"aria-label":"Tech Contact",style:{background:"whitesmoke",borderColor:"grey"},onChange:e=>{this.setState({jobDoneTechCon:e.target.value}),this.setState({estimTechCon:e.target.value})},title:this.state.selectedDDdata})]}),(0,f.jsxs)(b.Z,{size:"sm",className:"mb-3",style:{width:"93%"},children:[(0,f.jsx)(b.Z.Prepend,{style:{width:"44%"},children:(0,f.jsx)(b.Z.Text,{children:"Tech Name"})}),(0,f.jsx)(p.Z,{"aria-label":"Tech Name",style:{background:"whitesmoke",borderColor:"grey"},onChange:e=>{this.setState({jobDoneTechName:e.target.value}),this.setState({estimTechName:e.target.value})},title:this.state.selectedDDdata})]}),(0,f.jsxs)(b.Z,{size:"sm",className:"mb-3",style:{width:"93%",marginTop:20},children:[(0,f.jsx)(b.Z.Prepend,{style:{width:"44%"},children:(0,f.jsx)(b.Z.Text,{id:"inputGroup-sizing-sm",children:"Profession"})}),(0,f.jsx)(p.Z,{"aria-label":"Small","aria-describedby":"inputGroup-sizing-sm",style:{background:"whitesmoke",display:"flex",borderColor:"grey"},onChange:e=>{this.setState({jobdoneTechproffesion:e.target.value,estimTechproffesion:e.target.value})}})]}),(0,f.jsxs)(b.Z,{size:"sm",className:"mb-3",style:{width:"93%",marginTop:20},children:[(0,f.jsx)(b.Z.Prepend,{style:{width:"44%"},children:(0,f.jsx)(b.Z.Text,{id:"inputGroup-sizing-sm",children:"NTE"})}),(0,f.jsx)(p.Z,{"aria-label":"Small","aria-describedby":"inputGroup-sizing-sm",style:{background:"whitesmoke",display:"flex",borderColor:"grey"},onChange:e=>{this.setState({jobDoneCost:e.target.value,estimCost:"No Estim. Needed"})}})]}),(0,f.jsxs)(b.Z,{size:"sm",className:"mb-3",style:{width:"93%",marginTop:20},children:[(0,f.jsx)(b.Z.Prepend,{style:{width:"44%"},children:(0,f.jsx)(b.Z.Text,{id:"inputGroup-sizing-sm",children:"Scheduled Date"})}),(0,f.jsx)(p.Z,{type:"date","aria-label":"Small","aria-describedby":"inputGroup-sizing-sm",style:{background:"whitesmoke",display:"flex",borderColor:"grey"},onChange:e=>{this.setState({jobdonescheduledate:e.target.value,estimscheduleddate:"No Estim. Needed"})}})]}),(0,f.jsxs)(b.Z,{size:"sm",className:"mb-3",style:{width:"93%",marginTop:20},children:[(0,f.jsx)(b.Z.Prepend,{style:{width:"44%"},children:(0,f.jsx)(b.Z.Text,{id:"inputGroup-sizing-sm",children:"Scheduled Time"})}),(0,f.jsx)(p.Z,{type:"time","aria-label":"Small","aria-describedby":"inputGroup-sizing-sm",style:{display:"flex",borderColor:"grey"},onChange:e=>{this.setState({jobdonescheduledtime:e.target.value})}})]})]}),(0,f.jsxs)(r.Z,{md:5,children:[(0,f.jsxs)(h.Z.Group,{controlId:"exampleForm.ControlTextarea1",children:[(0,f.jsx)(h.Z.Label,{children:"Note About Job"}),(0,f.jsx)(h.Z.Control,{style:{width:"110%",display:"flex",backgroundColor:"whitesmoke",flexDirection:"row"},onChange:e=>{this.setState({jobDoneTechDescription:e.target.value,estimTechDescription:"No Estim. Needed"})},as:"textarea",rows:"3"})]})," ",(0,f.jsxs)("div",{children:[(0,f.jsxs)(b.Z,{size:"sm",className:"mb-3",style:{width:"110%",marginTop:20},children:[(0,f.jsx)(b.Z.Prepend,{style:{width:"44%"},children:(0,f.jsx)(b.Z.Text,{id:"inputGroup-sizing-sm",children:"Submited Date"})}),(0,f.jsx)(D.Z,{"aria-label":"Small",style:{background:"whitesmoke",display:"flex",borderColor:"grey"}}),this.state.selectedJob&&(0,f.jsx)(T,{data:null===(U=this.state.selectedJob)||void 0===U||null===(O=U.data)||void 0===O||null===(F=O.jobData)||void 0===F?void 0:F.submdate})]}),(0,f.jsxs)(b.Z,{size:"sm",className:"mb-3",style:{width:"110%",marginTop:20},children:[(0,f.jsx)(b.Z.Prepend,{style:{width:"43%"},children:(0,f.jsx)(b.Z.Text,{id:"inputGroup-sizing-sm",children:"Needed Date"})}),(0,f.jsx)(D.Z,{"aria-label":"Small",style:{background:"whitesmoke",display:"flex",borderColor:"grey"}}),this.state.selectedJob&&(0,f.jsx)(T,{data:null===(B=this.state.selectedJob)||void 0===B||null===(G=B.data)||void 0===G||null===(W=G.jobData)||void 0===W?void 0:W.neededdate})]}),(0,f.jsxs)(b.Z,{size:"sm",className:"mb-3",style:{width:"110%",marginTop:20},children:[(0,f.jsx)(b.Z.Prepend,{style:{width:"43%"},children:(0,f.jsx)(b.Z.Text,{id:"inputGroup-sizing-sm",children:"Your Name"})}),(0,f.jsx)(D.Z,{"aria-label":"Small",style:{background:"whitesmoke",display:"flex",borderColor:"grey"}}),(0,f.jsx)(T,{data:null!=Te.currentUser?Te.currentUser.name+" "+Te.currentUser.lastName:this.state.userName})]})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{})," ",(0,f.jsxs)("div",{style:{width:"",display:"flex",flexDirection:"row",justifyContent:"center",marginTop:"-9%"},children:[(0,f.jsx)(c.Z,{variant:"primary",style:{width:"50%",marginTop:"8%"},onClick:()=>{this.setState({onestimclicktoconfirm:!0})},children:"Submit"}),(0,f.jsx)(c.Z,{style:{width:"50%",marginTop:"8%"},variant:"secondary",onClick:()=>{this.handleClose()},children:"Close"})]})]})]})]})})}),(0,f.jsx)(j.Z.Footer,{style:{width:"130%",backgroundColor:"white",display:"flex",flexDirection:"row"},children:(0,f.jsxs)("div",{children:["Hello there, we need someone for"," ",(0,f.jsx)("span",{style:{color:"red"},children:null===(Y=this.state.selectedJob)||void 0===Y||null===(V=Y.data)||void 0===V||null===(_=V.jobData)||void 0===_?void 0:_.trade})," ","to:"," ",(0,f.jsx)("span",{style:{color:"red"},children:null===(R=this.state.selectedJob)||void 0===R||null===(Q=R.data)||void 0===Q||null===(q=Q.jobData)||void 0===q?void 0:q.jobdescr})," ","At:"," ",(0,f.jsx)("span",{style:{color:"red"},children:null===($=this.state.selectedJob)||void 0===$||null===(K=$.data)||void 0===K||null===(X=K.jobData)||void 0===X?void 0:X.joblocation})," ","Asap please, Maximum by:"," ",(0,f.jsx)("span",{style:{color:"red"},children:null===(ee=this.state.selectedJob)||void 0===ee||null===(te=ee.data)||void 0===te||null===(se=te.jobData)||void 0===se?void 0:se.neededdate}),". You guys do free estimation, right?"," ",(0,f.jsx)("span",{style:{color:"green"},children:"YES?"})," AWESOME!"," ",(0,f.jsx)("span",{style:{color:"green"},children:"No?"})," how much you guys charge? the best I can do is:"," ",(0,f.jsxs)("span",{style:{color:"red"},children:[null===(ie=this.state.selectedJob)||void 0===ie||null===(ae=ie.data)||void 0===ae||null===(ne=ae.jobData)||void 0===ne?void 0:ne.nte,"-25$"]})," ","no? ok ok give me a minute I will ask my manager, I might be able to get you:"," ",(0,f.jsx)("span",{style:{color:"red"},children:null===(de=this.state.selectedJob)||void 0===de||null===(oe=de.data)||void 0===oe||null===(le=oe.jobData)||void 0===le?void 0:le.nte})]})})]}),(0,f.jsxs)(j.Z,{centered:!0,style:{marginTop:"15%",display:"flex",flexDirection:"row",width:"100%",justifyContent:"center"},show:this.state.onestimclicktoconfirm,onHide:this.handleClose,children:[(0,f.jsx)(j.Z.Header,{style:{justifyContent:"center",backgroundColor:"whitesmoke",display:"flex",flexDirection:"row"},closeButton:!0,children:(0,f.jsx)(j.Z.Title,{style:{justifyContent:"center",backgroundColor:"whitesmoke",display:"flex",flexDirection:"row"},children:"Confirm to Submit"})}),(0,f.jsx)(j.Z.Body,{style:{justifyContent:"center",backgroundColor:"whitesmoke"},children:(0,f.jsx)("div",{className:"input-group mb-4",children:(0,f.jsx)("input",{style:{display:"flex",flexDirection:"row",width:"50%",justifyContent:"center"},type:"password",className:"form-control",placeholder:"password",onChange:e=>{this.setState({password:e.target.value})}})})}),(0,f.jsx)("div",{style:{justifyContent:"center",backgroundBlendMode:"darken",backgroundColor:"whitesmoke",display:"flex",flexDirection:"row"},children:"Please Enter Your Password to Confirm"}),(0,f.jsx)(j.Z.Footer,{style:{justifyContent:"center",backgroundColor:"whitesmoke",display:"flex",flexDirection:"row"},children:(0,f.jsx)("button",{onClick:()=>{this.onPressed(),this.onSubmitJobDone(this.state.selectedJob),this.handleClose()},children:"Submit"})})]}),(0,f.jsxs)(j.Z,{centered:!0,style:{marginTop:"15%",display:"flex",flexDirection:"row",width:"100%",justifyContent:"center"},show:this.state.on1stsubmitclick,onHide:this.handleClose,children:[(0,f.jsx)(j.Z.Header,{style:{justifyContent:"center",backgroundColor:"whitesmoke",display:"flex",flexDirection:"row"},closeButton:!0,children:(0,f.jsx)(j.Z.Title,{style:{justifyContent:"center",backgroundColor:"whitesmoke",display:"flex",flexDirection:"row"},children:"Confirm to Submit"})}),(0,f.jsx)(j.Z.Body,{style:{justifyContent:"center",backgroundColor:"whitesmoke"},children:(0,f.jsx)("div",{className:"input-group mb-4",children:(0,f.jsx)("input",{style:{display:"flex",flexDirection:"row",width:"50%",justifyContent:"center"},type:"password",className:"form-control",placeholder:"password",onChange:e=>{this.setState({password:e.target.value})}})})}),(0,f.jsx)("div",{style:{justifyContent:"center",backgroundBlendMode:"darken",backgroundColor:"whitesmoke",display:"flex",flexDirection:"row"},children:"Please Enter Your Password to Confirm Schedule estimation"}),(0,f.jsx)(j.Z.Footer,{style:{justifyContent:"center",backgroundColor:"whitesmoke",display:"flex",flexDirection:"row"},children:(0,f.jsx)("button",{onClick:()=>{this.onPressed(),this.onSubmitEstimation("estimationScheduled"===this.state.selectedJob.data.status),this.handleClose()},children:"Submit"})})]}),(0,f.jsxs)(j.Z,{style:{display:"flex",flexDirection:"row",marginLeft:"-4%"},show:this.state.modalDisplayWOdetails,onHide:this.handleClose,centered:"true",children:["  ",(0,f.jsxs)("div",{centered:"true",style:{width:"200%",backgroundColor:"lightblue",justifyContent:"center",display:"flex",flexDirection:"row"},children:["STATUS:",null===(re=this.state.selectedJob)||void 0===re||null===(ce=re.data)||void 0===ce?void 0:ce.status]}),(0,f.jsx)(j.Z.Header,{style:{backgroundColor:"white",width:"200%",display:"flex",flexDirection:"row"},closeButton:!0,children:(0,f.jsxs)(u.Z,{children:[(0,f.jsxs)("h6",{style:{color:"green"},children:[" ","=="," "]}),(0,f.jsx)("h6",{style:{display:"flex",color:"estimationScheduled"===(null===(he=this.state.selectedJob)||void 0===he||null===(je=he.data)||void 0===je?void 0:je.status)?"red":"grey"},children:"  ESTIMATION"}),(0,f.jsx)("h6",{children:"===========>"}),(0,f.jsx)("h6",{style:{display:"flex",color:"quotationPending"===(null===(xe=this.state.selectedJob)||void 0===xe||null===(me=xe.data)||void 0===me?void 0:me.status)?"red":"grey"},children:"QUOTATION"}),(0,f.jsx)("h6",{children:"===========>"}),(0,f.jsx)("h6",{style:{display:"flex",color:"jobDoneScheduled"===(null===(ue=this.state.selectedJob)||void 0===ue||null===(be=ue.data)||void 0===be?void 0:be.status)|"jobDoneNeeded"?"red":"grey"},children:"JOBDONE"}),(0,f.jsx)("h6",{children:"===============>"}),(0,f.jsx)("h6",{children:"INVOICING"}),(0,f.jsx)("h6",{children:"===============>"}),(0,f.jsx)("h6",{children:"COMPLETED"})]})})," ",(0,f.jsx)(j.Z.Body,{centered:"true",style:{backgroundColor:"white",width:"200%"},children:(0,f.jsxs)(x.Z,{className:"NewWorkOrders",children:[(0,f.jsx)(x.Z.Body,{className:"px-0 py-2",children:(0,f.jsxs)(b.Z,{size:"sm",className:"mb-3",children:[(0,f.jsx)("div",{style:{width:"20%",display:"flex",flexDirection:"column"},children:pe&&pe.data&&pe.data.dispatcherData&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{children:pe.data.dispatcherData.estimscheduleddate}),(0,f.jsx)("div",{children:pe.data.dispatcherData.estimscheduledtime}),(0,f.jsx)("div",{children:pe.data.dispatcherData.estimTechName}),(0,f.jsx)("div",{children:pe.data.dispatcherData.estimTechCon}),(0,f.jsx)("div",{children:pe.data.dispatcherData.estimCost}),(0,f.jsx)("div",{children:pe.data.dispatcherData.estimTechDescription})]})}),(0,f.jsxs)("div",{style:{width:"18%"},children:[(0,f.jsxs)("div",{children:[" ","Pending"]}),(0,f.jsxs)("div",{children:[" ","Approved"]})]}),(0,f.jsx)("div",{}),(0,f.jsx)("div",{style:{width:"21%",display:"flex",flexDirection:"column"},children:pe&&pe.data&&pe.data.dispatcherData&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{children:pe.data.dispatcherData.jobdonescheduledate}),(0,f.jsx)("div",{children:pe.data.dispatcherData.jobdonescheduledtime}),(0,f.jsx)("div",{children:pe.data.dispatcherData.jobDoneTechName}),(0,f.jsx)("div",{children:pe.data.dispatcherData.jobDoneTechCon}),(0,f.jsx)("div",{children:pe.data.dispatcherData.jobDoneTechproffesionzz}),(0,f.jsx)("div",{children:pe.data.dispatcherData.jobDoneHours}),(0,f.jsx)("div",{children:pe.data.dispatcherData.jobDoneTechDescription})]})}),(0,f.jsxs)("div",{style:{width:"18%"},children:[(0,f.jsx)("div",{children:"    "}),(0,f.jsxs)("div",{children:[" ","Pending"]}),(0,f.jsxs)("div",{children:[" ","Approved"]})]}),(0,f.jsx)("div",{})]})}),(0,f.jsxs)("div",{children:[pe&&pe.data&&("estimationScheduled"===pe.data.status?Ze:null),pe&&pe.data&&("jobDoneScheduled"===pe.data.status?ve:null)]})]})}),(0,f.jsx)(j.Z.Footer,{style:{height:"80%",backgroundColor:"whitesmoke",width:"200%",display:"flex",flexDirection:"row"}})]})]}),";",this.state.showTable&&(0,f.jsxs)("div",{children:[(0,f.jsxs)(u.Z,{style:{flexDirection:"row",justifyContent:"center",display:"flex"},children:[(0,f.jsxs)("div",{children:[(0,f.jsxs)(c.Z,{onClick:()=>{this.setState({estimationListModal:!0})},className:"btn btn-primary",children:["Estim. to schedule",(0,f.jsxs)("span",{style:{color:"red",flexDirection:"row",backgroundColor:"white",width:"50%",justifyContent:"center",display:"flex"},children:[" ",Ce]})]}),(0,f.jsxs)("p",{children:["","  | ","    Pending :  ",(0,f.jsxs)("span",{style:{color:"red"},children:[" ",""," ",Ce," ",""," "]})," "," | ","   Urgent :  ",(0,f.jsxs)("span",{style:{color:"red"},children:[" ",""," ",Ce,"  "]})," "," | "]})]})," ",(0,f.jsx)("div",{style:{flexDirection:"row",justifyContent:"center",display:"flex",width:"8%"},children:" "}),(0,f.jsxs)("div",{children:[(0,f.jsxs)(c.Z,{render:"true",onClick:()=>{this.setState({JobDoneListModal:!0})},className:"btn btn-primary",children:["JOBS to schedule","   ",(0,f.jsx)("span",{style:{color:"red",flexDirection:"row",backgroundColor:"white",width:"50%",justifyContent:"center",display:"flex"},children:De})]})," ",(0,f.jsxs)("p",{children:[""," | ","   Pending :  ",(0,f.jsxs)("span",{style:{color:"red"},children:[" ",""," ",De," ",""," "]})," "," | ","    Urgent :  ",(0,f.jsxs)("span",{style:{color:"red"},children:[" ","","  ",De,"   "]})," | "]})]}),(0,f.jsx)("div",{style:{flexDirection:"row",justifyContent:"center",display:"flex",width:"8%"},children:" "})]}),(0,f.jsxs)(m.Z,{responsive:!0,hover:!0,style:{backgroundColor:"white"},className:"table mt-3",id:"tablepadding",children:[(0,f.jsxs)("thead",{children:[(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{colSpan:"3",children:(0,f.jsx)("h5",{children:"Scheduled W.O."})}),(0,f.jsx)("th",{colSpan:"9",children:(0,f.jsxs)("h6",{children:[(0,f.jsx)("i",{className:"fa fa-circle text-c-yellow f-10 m-r-15",children:(0,f.jsx)("span",{className:"text-c-yellow f-10 m-r-15",children:"estim."})}),(0,f.jsx)("i",{className:"fa fa-circle text-c-blue f-10 m-r-15",children:(0,f.jsx)("span",{className:"text-c-blue f-10 m-r-15",children:"Job Done"})})]})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{children:"WO numb"}),(0,f.jsx)("th",{children:"Job location"}),(0,f.jsx)("th",{children:"Contact"}),(0,f.jsx)("th",{children:"Trade"}),(0,f.jsx)("th",{children:"NTE"}),(0,f.jsx)("th",{children:"Client Name"}),(0,f.jsx)("th",{children:"Submitted date"}),(0,f.jsx)("th",{children:"Needed Date"}),(0,f.jsx)("th",{children:"Urgency"}),(0,f.jsx)("th",{children:"Job Description"})]})]}),(0,f.jsx)("tbody",{children:this.state.jobList.map(((e,t)=>"estimationScheduled"===e.data.status||"jobDoneScheduled"===e.data.status?(0,f.jsxs)("tr",{onClick:()=>{this.setState({modalDisplayWOdetails:!0,selectedJob:e})},style:{backgroundColor:"estimationScheduled"===e.data.status?"lightyellow":"lightblue"},children:[(0,f.jsx)("td",{children:e.data.woNum}),(0,f.jsx)("td",{children:e.data.jobData.joblocation}),(0,f.jsx)("td",{children:e.data.jobData.contact}),(0,f.jsx)("td",{children:e.data.jobData.trade}),(0,f.jsx)("td",{children:e.data.jobData.nte}),(0,f.jsx)("td",{children:e.data.jobData.clientName}),(0,f.jsx)("td",{children:e.data.jobData.submdate}),(0,f.jsx)("td",{children:e.data.jobData.neededdate}),(0,f.jsx)("td",{children:e.data.jobData.urgency}),(0,f.jsx)("td",{children:e.data.jobData.jobdescr})]},t):null))})]}),(0,f.jsxs)(x.Z,{style:{flexDirection:"column",justifyContent:"center",display:"flex"},className:"NewWorkOrders",children:[(0,f.jsx)(x.Z.Header,{children:(0,f.jsxs)(x.Z.Title,{style:{justifyContent:"center",display:"flex",flexDirection:"column",backgroundColor:"white"},className:"text-center",as:"h5",children:[(0,f.jsxs)(b.Z,{size:"sm",className:"mb-3",style:{width:300},children:[(0,f.jsx)(b.Z.Prepend,{style:{justifyContent:"center",display:"flex",flexDirection:"column",backgroundColor:"white"},children:(0,f.jsx)(c.Z,{onClick:async()=>{if(this.setState({onFindWOClick:!0}),""!==this.state.woNbSearch)try{const e=await(0,C.Td)(this.state.woNbSearch,this.context.currentUser.uid);this.setState({jobList:e})}catch(e){console.log("Error: ",e)}else{const e=await(0,C.uY)(this.context.currentUser.uid);this.setState({jobList:e})}},className:"btn btn-primary",children:"Find WO"})}),(0,f.jsx)(p.Z,{onChange:e=>{this.setState({woNbSearch:e.target.value})},"aria-label":"Small","aria-describedby":"inputGroup-sizing-sm"})]}),"Opened Work Orders"]})}),(0,f.jsx)(x.Z.Body,{className:"px-0 py-2",children:(0,f.jsxs)(m.Z,{responsive:!0,hover:!0,style:{backgroundColor:"white"},className:"table mt-3",id:"tablepadding",label:"Scheduled W.O.",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{children:"WO numb"}),(0,f.jsx)("th",{children:"Job location"}),(0,f.jsx)("th",{children:"Contact"}),(0,f.jsx)("th",{children:"Trade"}),(0,f.jsx)("th",{children:"NTE"}),(0,f.jsx)("th",{children:"Client Name"}),(0,f.jsx)("th",{children:"Submitted date"}),(0,f.jsx)("th",{children:"Needed Date"}),(0,f.jsx)("th",{children:"Urgency"}),(0,f.jsx)("th",{children:"Job Description"})]})}),(0,f.jsx)("tbody",{children:this.state.jobList.map(((e,t)=>(0,f.jsxs)("tr",{onClick:()=>{this.setState({modalDisplayWOdetails:!0,selectedJob:e})},children:[(0,f.jsx)("td",{children:e.data.woNum}),(0,f.jsx)("td",{children:e.data.jobData.joblocation}),(0,f.jsx)("td",{children:e.data.jobData.contact}),(0,f.jsx)("td",{children:e.data.jobData.trade}),(0,f.jsx)("td",{children:e.data.jobData.nte}),(0,f.jsx)("td",{children:e.data.jobData.clientName}),(0,f.jsx)("td",{children:e.data.jobData.submdate}),(0,f.jsx)("td",{children:e.data.jobData.neededdate}),(0,f.jsx)("td",{children:e.data.jobData.urgency}),(0,f.jsx)("td",{children:e.data.jobData.jobdescr}),(0,f.jsx)("td",{style:{paddingTop:"3px",display:"flex"}})]},t)))})]})})]})]})]})}}Z.contextType=a.T;const v=Z},3884:(e,t,s)=>{s.r(t),s.d(t,{default:()=>N,fetchTechConData:()=>T,getTechData:()=>Z});var i=s(2791),a=s(6487),n=s(2483),d=s(449),o=s(3634),l=s(3360),r=s(8695),c=s(2412),h=s(3193),j=s(4047),x=s(4949),m=s(9410),u=s(4292),b=s(4702),p=s(2481),y=s(8289);i.Component;var g=s(5648),C=s(184);const D=(0,b.ZF)(y.k.firebaseConfig),f=(0,p.ad)(D),w=(0,p.hJ)(f,"tech-list"),T=async()=>(await(0,p.PL)(w)).docs.map((e=>e.data().techCon)),Z=async()=>(await(0,p.PL)(w)).docs.map((e=>e.data()));class v extends i.Component{constructor(e){super(e),this.getSuggestions=(e,t)=>{const s=e.trim().toLowerCase(),{techList:i}=(s.length,this.state);return s&&i&&i.length?i.filter((e=>{var i;const a=null===(i=e.data[t])||void 0===i?void 0:i.toLowerCase();return a&&a.includes(s)})).map((e=>e.data[t])):[]},this.renderSuggestion=e=>(0,C.jsx)("div",{children:e}),this.componentDidMount=async()=>{const e=await(0,g.BJ)();this.setState({techList:e})},this.targetHandler=e=>{this.setState((t=>({selectedTarget:t.selectedTarget===e?null:e})))},this.handleInputChange=e=>{const{name:t,value:s}=e.target;this.setState((e=>({techData:{...e.techData,[t]:s}})))},this.addTechSubmit=async()=>{const{techData:e}=this.state;try{await(0,p.ET)((0,p.hJ)(f,"tech-list"),e);const t=[...this.state.techList,{...e}];this.setState({techList:t,techData:{techId:"",Addedby:"",freeEstim:[!0],techName:"",techCon:"",estimCost:"",paidby:"",techZip:"",techState:"",techCoverage:"50 miles",techNote:"",techTrade:"",techUrgency:""}})}catch(t){console.error("Error adding tech:",t)}},this.getCountryValue=o.Xd.getCountryValue,this.state={showTable:!0,writeAccess:!0,techData:{techId:"",Addedby:"",techName:"",techCon:"",estimCost:"",paidby:"",techZip:"",techState:"",techCoverage:40,techNote:"",techTrade:"",techUrgency:""},selectedTarget:null,newTechModal:!1,techList:[],selectedTech:[],filteredTech:[],isMultiTarget:[]}}render(){const{techData:e}=this.state;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{children:(0,C.jsx)(l.Z,{onClick:()=>{this.setState({newTechModal:!0})},variant:"primary",children:"Add Technician"})}),this.state.showTable&&(0,C.jsxs)("div",{children:[(0,C.jsx)(r.Z,{children:(0,C.jsx)(r.Z.Body,{children:(0,C.jsxs)(c.Z,{responsive:!0,hover:!0,children:[(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{children:[(0,C.jsxs)("td",{children:[(0,C.jsx)(l.Z,{onClick:()=>this.targetHandler("target1"),"aria-controls":"target1","aria-expanded":"target1"===this.state.selectedTarget,children:"Zip Code"}),(0,C.jsx)(h.Z,{in:"target1"===this.state.selectedTarget,children:(0,C.jsx)("div",{id:"target1",children:(0,C.jsx)(d.Z,{value:e.techZip,onChange:(e,t)=>{this.setState((e=>({techData:{...e.techData,techZip:t}})))},options:this.getSuggestions(e.techZip,"techZip"),renderInput:e=>(0,C.jsx)(n.Z,{...e,type:"text",style:{width:"97%"},name:"techZip",placeholder:"Search Via Zip...",onChange:e=>this.handleInputChange(e)})})})})]}),(0,C.jsxs)("td",{children:[(0,C.jsx)(l.Z,{onClick:()=>this.targetHandler("target2"),"aria-controls":"target2","aria-expanded":"target2"===this.state.selectedTarget,children:"Tech Name"}),(0,C.jsx)(h.Z,{in:"target2"===this.state.selectedTarget,children:(0,C.jsx)("div",{id:"target2",children:(0,C.jsx)(d.Z,{value:e.techName,onChange:(e,t)=>{this.setState((e=>({techData:{...e.techData,techName:t}})))},options:this.getSuggestions(e.techName,"techName"),renderInput:e=>(0,C.jsx)(n.Z,{...e,type:"text",style:{width:"97%"},name:"techName",placeholder:"Search Via Name...",onChange:e=>this.handleInputChange(e)})})})})]}),(0,C.jsxs)("td",{children:[(0,C.jsx)(l.Z,{onClick:()=>this.targetHandler("target3"),"aria-controls":"target3","aria-expanded":"target3"===this.state.selectedTarget,children:"Tech Contact"}),(0,C.jsx)(h.Z,{in:"target3"===this.state.selectedTarget,children:(0,C.jsx)("div",{id:"target3",children:(0,C.jsx)(d.Z,{value:e.techCon,onChange:(e,t)=>{this.setState((e=>({techData:{...e.techData,techCon:t}})))},options:this.getSuggestions(e.techCon,"techCon"),renderInput:e=>(0,C.jsx)(n.Z,{...e,type:"text",style:{width:"97%"},name:"techCon",placeholder:"Search Via Contact...",onChange:e=>this.handleInputChange(e)})})})})]}),(0,C.jsxs)("td",{children:[(0,C.jsx)(l.Z,{onClick:()=>this.targetHandler("target4"),"aria-controls":"target4","aria-expanded":"target4"===this.state.selectedTarget,children:"Tech State"}),(0,C.jsx)(h.Z,{in:"target4"===this.state.selectedTarget,children:(0,C.jsx)("div",{id:"target4",children:(0,C.jsx)(d.Z,{value:e.techState,onChange:(e,t)=>{this.setState((e=>({techData:{...e.techData,techState:t}})))},options:this.getSuggestions(e.techState,"techState"),renderInput:e=>(0,C.jsx)(n.Z,{...e,type:"text",style:{width:"97%"},name:"techState",placeholder:"Search Via State...",onChange:e=>this.handleInputChange(e)})})})})]}),(0,C.jsxs)("td",{children:[" ",(0,C.jsx)(l.Z,{onClick:()=>this.targetHandler("target5"),"aria-controls":"target5","aria-expanded":"target5"===this.state.selectedTarget,children:"Free Estimation"}),(0,C.jsx)(h.Z,{in:"target5"===this.state.selectedTarget,children:(0,C.jsx)("div",{id:"target5",children:(0,C.jsx)("input",{style:{width:100},onClick:e=>this.handleInputKeyPress(e,"target5")})})})]}),(0,C.jsxs)("td",{children:[" ",(0,C.jsx)(l.Z,{children:"Tech Trade"})]}),(0,C.jsxs)("td",{children:[" ",(0,C.jsx)(l.Z,{children:"Tech Coverage"})]}),(0,C.jsxs)("td",{children:[" ",(0,C.jsx)(l.Z,{children:"Tech Urgency"})]}),(0,C.jsxs)("td",{children:[" ",(0,C.jsx)(l.Z,{children:"Note about tech"})]}),(0,C.jsx)("td",{children:(0,C.jsx)(l.Z,{children:"Est. Cost"})})]})}),(0,C.jsx)("tbody",{children:this.state.techList.map(((e,t)=>(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{children:e.data.techZip}),(0,C.jsx)("td",{children:e.data.techName}),(0,C.jsx)("td",{children:e.data.techCon}),(0,C.jsx)("td",{children:e.data.techState}),(0,C.jsx)("td",{children:e.data.freeEstim}),(0,C.jsx)("td",{children:e.data.techTrade}),(0,C.jsx)("td",{children:e.data.techCoverage}),(0,C.jsx)("td",{children:e.data.techUrgency}),(0,C.jsx)("td",{children:e.data.estimCost}),(0,C.jsx)("td",{children:e.data.techNote}),(0,C.jsx)("td",{children:e.data.paidby})]},t)))})]})})}),(0,C.jsxs)(j.Z,{show:this.state.newTechModal,onHide:()=>this.setState({newTechModal:!1}),children:[(0,C.jsx)(j.Z.Header,{closeButton:!0,children:(0,C.jsx)(j.Z.Title,{children:"New Technician"})}),(0,C.jsx)(j.Z.Body,{children:(0,C.jsxs)(x.Z,{children:[(0,C.jsxs)(m.Z,{className:"mb-3",children:[(0,C.jsx)(m.Z.Text,{style:{width:165},children:"Technician Name"}),(0,C.jsx)(u.Z,{type:"text",name:"techName",placeholder:"Enter tech Name...",value:e.techName,onChange:e=>this.handleInputChange(e)})]}),(0,C.jsxs)(m.Z,{className:"mb-3",children:[(0,C.jsx)(m.Z.Text,{style:{width:165},children:"Technician Contact"}),(0,C.jsx)(u.Z,{type:"text",name:"techCon",placeholder:"Enter tech contact...",value:e.techCon,onChange:e=>this.handleInputChange(e)})]}),(0,C.jsxs)(m.Z,{className:"mb-3",children:[(0,C.jsx)(m.Z.Text,{style:{width:165},children:"Technician State"}),(0,C.jsx)(u.Z,{type:"text",name:"techState",placeholder:"Enter tech State...",value:e.techState,onChange:e=>this.handleInputChange(e)})]}),(0,C.jsxs)(m.Z,{className:"mb-3",children:[(0,C.jsx)(m.Z.Text,{style:{width:165},children:"Technician Zip"}),(0,C.jsx)(u.Z,{type:"text",name:"techZip",placeholder:"Enter tech Zip...",value:e.techZip,onChange:e=>this.handleInputChange(e)})]}),(0,C.jsxs)(m.Z,{className:"mb-3",children:[(0,C.jsx)(m.Z.Text,{style:{justifyContent:"center",width:165},children:"Technician Coverage"}),(0,C.jsxs)(x.Z.Label,{htmlFor:"customRange",children:[(0,C.jsx)("span",{style:{width:"100%",display:"flex",justifyContent:"center"},children:"".concat(e.techCoverage," Miles")}),(0,C.jsx)(u.Z,{style:{justifyContent:"center",width:280},defaultValue:e.techCoverage,max:"100",min:"0",step:"10",id:"customRange",type:"range",className:"custom-range",name:"techCoverage",onChange:e=>this.handleInputChange(e),title:"".concat(e.techCoverage," Miles")})]})]}),(0,C.jsxs)(m.Z,{className:"mb-3",children:[(0,C.jsx)(m.Z.Text,{style:{width:165},children:"Technician Trade"}),(0,C.jsx)(u.Z,{type:"text",name:"techTrade",placeholder:"Enter tech Trade...",value:e.techTrade,onChange:e=>this.handleInputChange(e)})]}),(0,C.jsxs)(m.Z,{className:"mb-3",children:[(0,C.jsx)(m.Z.Text,{style:{width:165},children:"Technician urgency"}),(0,C.jsx)(u.Z,{type:"text",name:"techUrgency",placeholder:"Enter tech Urgency...",value:e.techUrgency,onChange:e=>this.handleInputChange(e)})]}),(0,C.jsxs)(m.Z,{className:"mb-3",children:[(0,C.jsx)(m.Z.Text,{style:{width:165},children:"Note About Tech"}),(0,C.jsx)(u.Z,{type:"text",name:"techNote",placeholder:"Whrite Notes about Tech...",value:e.techNote,onChange:e=>this.handleInputChange(e)})]}),(0,C.jsxs)(m.Z,{className:"mb-3",children:[(0,C.jsx)(m.Z.Text,{style:{width:165},children:"Free Estimation"}),(0,C.jsx)("div",{style:{marginTop:7},children:(0,C.jsx)(x.Z.Check,{style:{marginLeft:20,transform:"scale(1.5)"},onChange:e=>{const t=e.target.checked;let s=t?"FREE":"";this.setState({freeEstim:t,selectedStatus:s,techData:{...this.state.techData,estimCost:t?"0$":this.state.techData.estimCost}})},custom:!0,id:"checkbox2"})})]}),!this.state.freeEstim&&(0,C.jsxs)(m.Z,{className:"mb-3",children:[(0,C.jsx)(m.Z.Text,{style:{width:165},children:"Estimation Cost"}),(0,C.jsx)(u.Z,{type:"text",name:"estimCost",placeholder:"Enter Estimation Cost...",value:this.state.techData.estimCost,onChange:e=>this.handleInputChange(e)})]}),(0,C.jsxs)(m.Z,{className:"mb-3",children:[(0,C.jsx)(m.Z.Text,{style:{width:165},children:"Payment Method"}),(0,C.jsxs)(u.Z,{as:"select",name:"paidby",value:e.paidby,onChange:e=>this.handleInputChange(e),children:[(0,C.jsx)("option",{value:"",children:"Select a payment method..."}),(0,C.jsx)("option",{value:"CashApp",children:"CashApp"}),(0,C.jsx)("option",{value:"Zelle",children:"Zelle"}),(0,C.jsx)("option",{value:"Paypal",children:"Paypal"}),(0,C.jsx)("option",{value:"Venmo",children:"Venmo"}),(0,C.jsx)("option",{value:"Square",children:"Square"})]})]})]})}),(0,C.jsxs)(j.Z.Footer,{children:[(0,C.jsx)(l.Z,{variant:"secondary",onClick:()=>this.setState({newTechModal:!1}),children:"Close"}),(0,C.jsx)(l.Z,{variant:"primary",onClick:this.addTechSubmit,children:"Save Changes"})]})]})]})]})}}v.context=a.T;const N=v}}]);
//# sourceMappingURL=567.f992e816.chunk.js.map