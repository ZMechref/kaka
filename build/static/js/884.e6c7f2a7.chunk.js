"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[884],{3884:(e,t,a)=>{a.r(t),a.d(t,{default:()=>I,fetchTechConData:()=>w,getTechData:()=>N});var s=a(2791),h=a(6487),n=a(2483),c=a(449),i=a(3634),d=a(3360),r=a(8695),l=a(2412),o=a(3193),x=a(4047),g=a(4949),j=a(9410),p=a(4292),m=a(4702),C=a(2481),u=a(8289);s.Component;var Z=a(5648),y=a(184);const T=(0,m.ZF)(u.k.firebaseConfig),v=(0,C.ad)(T),S=(0,C.hJ)(v,"tech-list"),w=async()=>(await(0,C.PL)(S)).docs.map((e=>e.data().techCon)),N=async()=>(await(0,C.PL)(S)).docs.map((e=>e.data()));class b extends s.Component{constructor(e){super(e),this.getSuggestions=(e,t)=>{const a=e.trim().toLowerCase(),{techList:s}=(a.length,this.state);return a&&s&&s.length?s.filter((e=>{var s;const h=null===(s=e.data[t])||void 0===s?void 0:s.toLowerCase();return h&&h.includes(a)})).map((e=>e.data[t])):[]},this.renderSuggestion=e=>(0,y.jsx)("div",{children:e}),this.componentDidMount=async()=>{const e=await(0,Z.BJ)();this.setState({techList:e})},this.targetHandler=e=>{this.setState((t=>({selectedTarget:t.selectedTarget===e?null:e})))},this.handleInputChange=e=>{const{name:t,value:a}=e.target;this.setState((e=>({techData:{...e.techData,[t]:a}})))},this.addTechSubmit=async()=>{const{techData:e}=this.state;try{await(0,C.ET)((0,C.hJ)(v,"tech-list"),e);const t=[...this.state.techList,{...e}];this.setState({techList:t,techData:{techId:"",Addedby:"",freeEstim:[!0],techName:"",techCon:"",estimCost:"",paidby:"",techZip:"",techState:"",techCoverage:"50 miles",techNote:"",techTrade:"",techUrgency:""}})}catch(t){console.error("Error adding tech:",t)}},this.getCountryValue=i.Xd.getCountryValue,this.state={showTable:!0,writeAccess:!0,techData:{techId:"",Addedby:"",techName:"",techCon:"",estimCost:"",paidby:"",techZip:"",techState:"",techCoverage:40,techNote:"",techTrade:"",techUrgency:""},selectedTarget:null,newTechModal:!1,techList:[],selectedTech:[],filteredTech:[],isMultiTarget:[]}}render(){const{techData:e}=this.state;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{children:(0,y.jsx)(d.Z,{onClick:()=>{this.setState({newTechModal:!0})},variant:"primary",children:"Add Technician"})}),this.state.showTable&&(0,y.jsxs)("div",{children:[(0,y.jsx)(r.Z,{children:(0,y.jsx)(r.Z.Body,{children:(0,y.jsxs)(l.Z,{responsive:!0,hover:!0,children:[(0,y.jsx)("thead",{children:(0,y.jsxs)("tr",{children:[(0,y.jsxs)("td",{children:[(0,y.jsx)(d.Z,{onClick:()=>this.targetHandler("target1"),"aria-controls":"target1","aria-expanded":"target1"===this.state.selectedTarget,children:"Zip Code"}),(0,y.jsx)(o.Z,{in:"target1"===this.state.selectedTarget,children:(0,y.jsx)("div",{id:"target1",children:(0,y.jsx)(c.Z,{value:e.techZip,onChange:(e,t)=>{this.setState((e=>({techData:{...e.techData,techZip:t}})))},options:this.getSuggestions(e.techZip,"techZip"),renderInput:e=>(0,y.jsx)(n.Z,{...e,type:"text",style:{width:"97%"},name:"techZip",placeholder:"Search Via Zip...",onChange:e=>this.handleInputChange(e)})})})})]}),(0,y.jsxs)("td",{children:[(0,y.jsx)(d.Z,{onClick:()=>this.targetHandler("target2"),"aria-controls":"target2","aria-expanded":"target2"===this.state.selectedTarget,children:"Tech Name"}),(0,y.jsx)(o.Z,{in:"target2"===this.state.selectedTarget,children:(0,y.jsx)("div",{id:"target2",children:(0,y.jsx)(c.Z,{value:e.techName,onChange:(e,t)=>{this.setState((e=>({techData:{...e.techData,techName:t}})))},options:this.getSuggestions(e.techName,"techName"),renderInput:e=>(0,y.jsx)(n.Z,{...e,type:"text",style:{width:"97%"},name:"techName",placeholder:"Search Via Name...",onChange:e=>this.handleInputChange(e)})})})})]}),(0,y.jsxs)("td",{children:[(0,y.jsx)(d.Z,{onClick:()=>this.targetHandler("target3"),"aria-controls":"target3","aria-expanded":"target3"===this.state.selectedTarget,children:"Tech Contact"}),(0,y.jsx)(o.Z,{in:"target3"===this.state.selectedTarget,children:(0,y.jsx)("div",{id:"target3",children:(0,y.jsx)(c.Z,{value:e.techCon,onChange:(e,t)=>{this.setState((e=>({techData:{...e.techData,techCon:t}})))},options:this.getSuggestions(e.techCon,"techCon"),renderInput:e=>(0,y.jsx)(n.Z,{...e,type:"text",style:{width:"97%"},name:"techCon",placeholder:"Search Via Contact...",onChange:e=>this.handleInputChange(e)})})})})]}),(0,y.jsxs)("td",{children:[(0,y.jsx)(d.Z,{onClick:()=>this.targetHandler("target4"),"aria-controls":"target4","aria-expanded":"target4"===this.state.selectedTarget,children:"Tech State"}),(0,y.jsx)(o.Z,{in:"target4"===this.state.selectedTarget,children:(0,y.jsx)("div",{id:"target4",children:(0,y.jsx)(c.Z,{value:e.techState,onChange:(e,t)=>{this.setState((e=>({techData:{...e.techData,techState:t}})))},options:this.getSuggestions(e.techState,"techState"),renderInput:e=>(0,y.jsx)(n.Z,{...e,type:"text",style:{width:"97%"},name:"techState",placeholder:"Search Via State...",onChange:e=>this.handleInputChange(e)})})})})]}),(0,y.jsxs)("td",{children:[" ",(0,y.jsx)(d.Z,{onClick:()=>this.targetHandler("target5"),"aria-controls":"target5","aria-expanded":"target5"===this.state.selectedTarget,children:"Free Estimation"}),(0,y.jsx)(o.Z,{in:"target5"===this.state.selectedTarget,children:(0,y.jsx)("div",{id:"target5",children:(0,y.jsx)("input",{style:{width:100},onClick:e=>this.handleInputKeyPress(e,"target5")})})})]}),(0,y.jsxs)("td",{children:[" ",(0,y.jsx)(d.Z,{children:"Tech Trade"})]}),(0,y.jsxs)("td",{children:[" ",(0,y.jsx)(d.Z,{children:"Tech Coverage"})]}),(0,y.jsxs)("td",{children:[" ",(0,y.jsx)(d.Z,{children:"Tech Urgency"})]}),(0,y.jsxs)("td",{children:[" ",(0,y.jsx)(d.Z,{children:"Note about tech"})]}),(0,y.jsx)("td",{children:(0,y.jsx)(d.Z,{children:"Est. Cost"})})]})}),(0,y.jsx)("tbody",{children:this.state.techList.map(((e,t)=>(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{children:e.data.techZip}),(0,y.jsx)("td",{children:e.data.techName}),(0,y.jsx)("td",{children:e.data.techCon}),(0,y.jsx)("td",{children:e.data.techState}),(0,y.jsx)("td",{children:e.data.freeEstim}),(0,y.jsx)("td",{children:e.data.techTrade}),(0,y.jsx)("td",{children:e.data.techCoverage}),(0,y.jsx)("td",{children:e.data.techUrgency}),(0,y.jsx)("td",{children:e.data.estimCost}),(0,y.jsx)("td",{children:e.data.techNote}),(0,y.jsx)("td",{children:e.data.paidby})]},t)))})]})})}),(0,y.jsxs)(x.Z,{show:this.state.newTechModal,onHide:()=>this.setState({newTechModal:!1}),children:[(0,y.jsx)(x.Z.Header,{closeButton:!0,children:(0,y.jsx)(x.Z.Title,{children:"New Technician"})}),(0,y.jsx)(x.Z.Body,{children:(0,y.jsxs)(g.Z,{children:[(0,y.jsxs)(j.Z,{className:"mb-3",children:[(0,y.jsx)(j.Z.Text,{style:{width:165},children:"Technician Name"}),(0,y.jsx)(p.Z,{type:"text",name:"techName",placeholder:"Enter tech Name...",value:e.techName,onChange:e=>this.handleInputChange(e)})]}),(0,y.jsxs)(j.Z,{className:"mb-3",children:[(0,y.jsx)(j.Z.Text,{style:{width:165},children:"Technician Contact"}),(0,y.jsx)(p.Z,{type:"text",name:"techCon",placeholder:"Enter tech contact...",value:e.techCon,onChange:e=>this.handleInputChange(e)})]}),(0,y.jsxs)(j.Z,{className:"mb-3",children:[(0,y.jsx)(j.Z.Text,{style:{width:165},children:"Technician State"}),(0,y.jsx)(p.Z,{type:"text",name:"techState",placeholder:"Enter tech State...",value:e.techState,onChange:e=>this.handleInputChange(e)})]}),(0,y.jsxs)(j.Z,{className:"mb-3",children:[(0,y.jsx)(j.Z.Text,{style:{width:165},children:"Technician Zip"}),(0,y.jsx)(p.Z,{type:"text",name:"techZip",placeholder:"Enter tech Zip...",value:e.techZip,onChange:e=>this.handleInputChange(e)})]}),(0,y.jsxs)(j.Z,{className:"mb-3",children:[(0,y.jsx)(j.Z.Text,{style:{justifyContent:"center",width:165},children:"Technician Coverage"}),(0,y.jsxs)(g.Z.Label,{htmlFor:"customRange",children:[(0,y.jsx)("span",{style:{width:"100%",display:"flex",justifyContent:"center"},children:"".concat(e.techCoverage," Miles")}),(0,y.jsx)(p.Z,{style:{justifyContent:"center",width:280},defaultValue:e.techCoverage,max:"100",min:"0",step:"10",id:"customRange",type:"range",className:"custom-range",name:"techCoverage",onChange:e=>this.handleInputChange(e),title:"".concat(e.techCoverage," Miles")})]})]}),(0,y.jsxs)(j.Z,{className:"mb-3",children:[(0,y.jsx)(j.Z.Text,{style:{width:165},children:"Technician Trade"}),(0,y.jsx)(p.Z,{type:"text",name:"techTrade",placeholder:"Enter tech Trade...",value:e.techTrade,onChange:e=>this.handleInputChange(e)})]}),(0,y.jsxs)(j.Z,{className:"mb-3",children:[(0,y.jsx)(j.Z.Text,{style:{width:165},children:"Technician urgency"}),(0,y.jsx)(p.Z,{type:"text",name:"techUrgency",placeholder:"Enter tech Urgency...",value:e.techUrgency,onChange:e=>this.handleInputChange(e)})]}),(0,y.jsxs)(j.Z,{className:"mb-3",children:[(0,y.jsx)(j.Z.Text,{style:{width:165},children:"Note About Tech"}),(0,y.jsx)(p.Z,{type:"text",name:"techNote",placeholder:"Whrite Notes about Tech...",value:e.techNote,onChange:e=>this.handleInputChange(e)})]}),(0,y.jsxs)(j.Z,{className:"mb-3",children:[(0,y.jsx)(j.Z.Text,{style:{width:165},children:"Free Estimation"}),(0,y.jsx)("div",{style:{marginTop:7},children:(0,y.jsx)(g.Z.Check,{style:{marginLeft:20,transform:"scale(1.5)"},onChange:e=>{const t=e.target.checked;let a=t?"FREE":"";this.setState({freeEstim:t,selectedStatus:a,techData:{...this.state.techData,estimCost:t?"0$":this.state.techData.estimCost}})},custom:!0,id:"checkbox2"})})]}),!this.state.freeEstim&&(0,y.jsxs)(j.Z,{className:"mb-3",children:[(0,y.jsx)(j.Z.Text,{style:{width:165},children:"Estimation Cost"}),(0,y.jsx)(p.Z,{type:"text",name:"estimCost",placeholder:"Enter Estimation Cost...",value:this.state.techData.estimCost,onChange:e=>this.handleInputChange(e)})]}),(0,y.jsxs)(j.Z,{className:"mb-3",children:[(0,y.jsx)(j.Z.Text,{style:{width:165},children:"Payment Method"}),(0,y.jsxs)(p.Z,{as:"select",name:"paidby",value:e.paidby,onChange:e=>this.handleInputChange(e),children:[(0,y.jsx)("option",{value:"",children:"Select a payment method..."}),(0,y.jsx)("option",{value:"CashApp",children:"CashApp"}),(0,y.jsx)("option",{value:"Zelle",children:"Zelle"}),(0,y.jsx)("option",{value:"Paypal",children:"Paypal"}),(0,y.jsx)("option",{value:"Venmo",children:"Venmo"}),(0,y.jsx)("option",{value:"Square",children:"Square"})]})]})]})}),(0,y.jsxs)(x.Z.Footer,{children:[(0,y.jsx)(d.Z,{variant:"secondary",onClick:()=>this.setState({newTechModal:!1}),children:"Close"}),(0,y.jsx)(d.Z,{variant:"primary",onClick:this.addTechSubmit,children:"Save Changes"})]})]})]})]})}}b.context=h.T;const I=b}}]);
//# sourceMappingURL=884.e6c7f2a7.chunk.js.map