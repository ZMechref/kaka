"use strict";(self.webpackChunkdatta_able_rv18_0_4=self.webpackChunkdatta_able_rv18_0_4||[]).push([[891],{7891:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var a=s(2791),o=s(2551),i=s(184);class n extends a.Component{constructor(e){super(e),this.checkGoogleMaps=()=>{window.google&&window.google.maps||setTimeout(this.checkGoogleMaps,100)},this.state=this.initialState(),this.handleChange=this.handleChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handlePlaceSelect=this.handlePlaceSelect.bind(this),this.autocomplete=""}initialState(){return{name:"",street_address:"",city:"",state:"",zip_code:"",googleMapLink:""}}handleChange(e){const{name:t,value:s}=e.target;this.setState({[t]:s})}handleSubmit(e){e.preventDefault(),this.props.dispatch(this.state)}handlePlaceSelect(){var e;const t=this.autocomplete.getPlace();if(!t.geometry)return void console.error("Place details not found");const s=t.address_components;let a="",o="";s.forEach((e=>{e.types.includes("locality")?a=e.long_name:e.types.includes("administrative_area_level_1")&&(o=e.short_name)})),this.setState({city:a,state:o,zip_code:(null===(e=t.address_components.find((e=>e.types.includes("postal_code"))))||void 0===e?void 0:e.short_name)||"",googleMapLink:t.url})}componentDidMount(){this.checkGoogleMaps()}handlePlaceSelect(){const e=this.autocomplete.getPlace();let t="";e.address_components.forEach((e=>{e.types.includes("postal_code")&&(t=e.long_name)})),console.log("Selected zip code:",t)}handleSubmit(e){e.preventDefault(),this.props.dispatch?this.props.dispatch(this.setState(this.state)):console.error("Dispatch function not available in props")}render(){return(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{children:"Add New Location"}),(0,i.jsxs)("form",{onSubmit:this.handleSubmit,children:[(0,i.jsx)("input",{id:"autocomplete",className:"input-field",ref:"input",type:"text",placeholder:"City or Zip/Postal Code",autoComplete:"off",onChange:this.handleChange}),(0,i.jsx)("button",{type:"submit",children:"Submit"})]})]})}}const l=(0,o.$j)()(n)}}]);
//# sourceMappingURL=891.2882a207.chunk.js.map